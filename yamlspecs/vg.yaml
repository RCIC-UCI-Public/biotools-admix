!include common.yaml
---
- package: VG variation graph data structures 
  name: vg 
  version: "{{versions.vg}}"
  vendor_source: https://github.com/vgteam/vg/releases/download/v{{version}}/vg-v{{version}}.{{extension}}
  description: >
    Variation graph data structures, interchange formats, alignment, 
    genotyping, and variant calling methods vg {{version}}
  src_dir: "{{name}}-v{{version}}" 
  build:
    modules: 
      - "{{compiler}}/{{compiler_version}}"
      - foundation
    pkgmake: make 
  install:
     makeinstall: >
       mkdir -p $(ROOT)/{{ root }}/bin;
       mkdir -p $(ROOT)/{{ root }}/lib;
       $(INSTALL) bin/* $(ROOT)//{{ root }}/bin;
       $(INSTALL) lib/libboost* $(ROOT)//{{ root }}/lib;
       $(INSTALL) lib/libdeflate* $(ROOT)//{{ root }}/lib;
       $(INSTALL) lib/libprotoc* $(ROOT)//{{ root }}/lib;
       $(INSTALL) lib/libprotobuf* $(ROOT)//{{ root }}/lib;
       $(INSTALL) lib/libtcmalloc* $(ROOT)//{{ root }}/lib
     installextra: $(INSTALL) -m 644  README* COPYING AUTHORS $(ROOT){{ root }} 
  requires:
    - "{{compiler}}_{{compiler_version}}"
