---
- package: SPAdes Genome Assember 
  name: SPAdes 
  versions: !include biotools_versions.yaml
  version: "{{ versions.SPAdes }}"
  extension: tar.gz
  pkgname: "{{ name }}"
  vendor_source: http://cab.spbu.ru/files/release3.13.0/SPAdes-3.13.0.tar.gz 
  description: >
    SPAdes version {{ version }}. St. Petersburg Assembler
  root: "{{ pkg_defaults.app_path }}/{{ name }}/{{ version }}"
  build:
    configure: echo 
    modules: 
      - gcc/{{ versions.gcc }}
      - cmake/{{ versions.cmake }} 
    pkgmake: ./spades_compile.sh 
    target: 
  install:
     makeinstall: >
       mkdir -p $(ROOT){{ root }}/bin;
       $(INSTALL) -m 755 bin/* $(ROOT){{ root }}/bin;
       $(TAR) cf - share test* configs | (cd $(ROOT)/{{ root }}; $(TAR) xvf - --owner=root --group=root)
     installextra: $(INSTALL) -m 644  README* COPYING AUTHORS $(ROOT){{ root }} 
  files:
    -  "{{ root }}"
    -  "{{ module.path }}/{{ module.name }} "
  requires:
    - gcc_{{ versions.gcc }} 
    - rcic-module-support
  module:
    name: "{{ version }}"
    path: "{{ pkg_defaults.module.path }}/{{ name }}"
    prepend_path:
      - "{{ pkg_defaults.module.prepend_path }}"
    prereq: 
      - gcc/{{ versions.gcc }}
  rpm: !include rpm.extras.yaml
