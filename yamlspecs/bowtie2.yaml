---
- package: bowtie2 
  name: bowtie2 
  versions: !include biotools_versions.yaml
  version: "{{ versions.bowtie2 }}"
  extension: tar.gz
  vendor_source: https://github.com/BenLangmead/bowtie2/archive/v{{ version }}.tar.gz
  description: >
    bowtie2 {{ version }}.  
  root: "{{ pkg_defaults.app_path }}/{{ name }}/{{ version }}"
  build:
    configure: echo no configure script.
    modules: 
      - gcc/{{ versions.gcc }}
      - python/{{ versions.python }}
    pkgmake: make 
    target: 
  install:
     makeinstall: >
       mkdir -p $(ROOT){{ root }};
       make install DESTDIR=$(ROOT) prefix={{ root }};
       $(TAR) cf - example/reads example/index scripts |
       $(TAR) -x -C $(ROOT){{ root }};
       chmod -R a+rX $ $(ROOT){{ root }}{example,scripts}
     installextra: $(INSTALL) -m 644  README* COPYING AUTHORS $(ROOT){{ root }} 
  files:
    -  "{{ root }}"
  requires:
    - gcc_{{ versions.gcc }} 
    - python_{{ versions.python }} 
  rpm: !include rpm.extras.yaml
