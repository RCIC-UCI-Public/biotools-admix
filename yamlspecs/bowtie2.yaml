!include common.yaml
---
- package: bowtie2 
  name: bowtie2 
  version: "{{versions.bowtie2}}"
  vendor_source: https://github.com/BenLangmead/bowtie2/archive/v{{version}}.tar.gz
  description: >
    bowtie2 {{version}}  
  addfile: 
    - filter-requires-{{name}}.sh
  build:
    modules: 
      - "{{compiler}}/{{compiler_version}}"
      - python/{{versions.python3}}
      - perl/{{versions.perl}}
    pkgmake: make 
  extras: AUTHORS README
  install:
     makeinstall: >
       mkdir -p $(ROOT){{root}};
       make install DESTDIR=$(ROOT) prefix={{root}};
       $(TAR) cf - example doc scripts |
       $(TAR) -x -C $(ROOT){{root}};
       chmod -R a+rX $ $(ROOT){{root}}{doc,example,scripts}
  requires:
    - "{{compiler}}_{{compiler_version}}"
    - python_{{versions.python3}}
    - perl_{{versions.perl}}
    - perl_{{versions.perl}}-Math-Random
  rpm: !include rpm.extras.filter.yaml
