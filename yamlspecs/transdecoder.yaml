!include common.yaml
---
- package: transdecoder 
  name: transdecoder 
  distname: TransDecoder
  version: "{{versions.transdecoder}}"
  src_dir: "{{distname}}-{{distname}}-v{{version}}"
  vendor_source: https://github.com/TransDecoder/{{distname}}/archive/{{distname}}-v{{version}}.{{extension}}
  addfile: 
    - filter-requires-{{name}}.sh
    - filter-provides-{{name}}.sh
  description: |
    TransDecoder (Find Coding Regions Within Transcripts) identifies candidate 
    coding regions within transcript sequences, such as those generated by de 
    novo RNA-Seq transcript assembly using Trinity, or constructed based on 
    RNA-Seq alignments to the genome using Tophat and Cufflinks.
  extras: LICENSE* README.md
  build:
    modules: 
      - perl/{{versions.perl}}
  install:
     makeinstall: >
       echo "{{versions.perl}}" > ../PERLVERSION;
       sed -i 's%/usr/local/bin/perl%/usr/bin/env perl%' PerlLib/*;
       mkdir -p $(ROOT)/{{root}};
       cp -p -r PerlLib $(ROOT)/{{root}};
       cp -p -r util $(ROOT)/{{root}};
       $(INSTALL) -m 755 TransDecoder.LongOrfs TransDecoder.Predict $(ROOT)/{{root}}
  requires:
    - perl_{{versions.perl}}
  rpmFilters: *filterPerl
