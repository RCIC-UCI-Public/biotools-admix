---
- package: High-Throughput Sequencing Lib from Samtools
  name: htslib 
  versions: !include versions.yaml
  version: "{{ versions.htslib }}"
  extension: tar.bz2
  vendor_source: https://github.com/samtools/htslib/releases/download/{{ version }}/htslib-{{ version }}.tar.bz2 
  description: >
    HTSLIB {{ version }}.  HTSlib implements a generalized BAM index, 
    with file extension csi (coordinate-sorted index). 
  root: "{{ pkg_defaults.app_path }}/{{ name }}/{{ version }}"
  addfile: 
    - filter-requires-{{ name }}.sh
  build:
    configure: ./configure 
    configure_args: --prefix={{ root }}
    modules: 
      - gcc/{{ versions.gcc }}
    pkgmake: make 
    target: 
  install:
     makeinstall: >
       mkdir -p $(ROOT){{ root }};
       make install DESTDIR=$(ROOT)
     installextra: $(INSTALL) -m 644  README* COPYING AUTHORS htslib.mk htslib_vars.mk $(ROOT){{ root }} 
  files:
    -  "{{ root }}"
  requires:
    - gcc_{{ versions.gcc }} 
  provides:
    - libhts.so.1()(64bit)
  rpm: !include rpm.extras.filter.yaml 

