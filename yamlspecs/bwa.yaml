!include rcic-package.yaml
---
- package: Burrow-Wheeler Aligner for short-read alignment
  name: bwa 
  versions: !include versions.yaml
  version: "{{versions.bwa}}"
  vendor_source: https://github.com/lh3/bwa/archive/{{ version }}.tar.gz
  description: >
    Burrow-Wheeler Aligner {{ version }}. 
  build:
    configure: echo 
    modules: 
      - gcc/{{ versions.gcc }}
  install:
     makeinstall: >
       mkdir -p $(ROOT){{ root }}/bin;
       $(INSTALL) -m 755 bwa *pl $(ROOT){{ root }}/bin;
       mkdir -p $(ROOT)/usr/share/man/man1;
       $(INSTALL) -m 755 bwa.1 $(ROOT)/usr/share/man/man1/bwa-{{version}}.1 
     installextra: $(INSTALL) -m 644  README* COPYING AUTHORS $(ROOT){{ root }} 
  files:
    -  "{{parent}}"
    -  "/usr/share/man/man1/*"
  requires:
    - gcc_{{versions.gcc}} 
  rpm: !include rpm.extras.yaml
